(this.webpackJsonpmobxstudy=this.webpackJsonpmobxstudy||[]).push([[1],{134:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(9),u=n.n(i),c=n(8),s=n(74),l=n(25),o=n(136),f=n(137),b=n(138),p=n(84),m=n(91),h=n.n(m),d=function(){var e=Object(c.g)();return a.a.createElement(f.a,{mode:"inline",theme:"dark",onClick:function(){return function(e){localStorage.clear(),e.push("/"),window.location.reload()}(e)}},a.a.createElement(f.a.Item,{icon:a.a.createElement(h.a,null)},"\u0412\u044b\u0445\u043e\u0434"))},O=function(){var e=Object(r.useState)(!1),t=Object(s.a)(e,2),n=t[0],i=t[1],u=o.a.Sider;return a.a.createElement(u,{collapsible:!0,collapsed:n,onCollapse:function(){i((function(e){return!e}))}},a.a.createElement(f.a,{theme:"dark",defaultSelectedKeys:["1"],mode:"inline"},p.map((function(e){return a.a.createElement(f.a.Item,{key:e.page,icon:a.a.createElement(b.a,null)},a.a.createElement(l.c,{to:e.path},e.page))}))),a.a.createElement(d,null))},j=a.a.lazy((function(){return n.e(11).then(n.bind(null,289))})),y=a.a.lazy((function(){return Promise.all([n.e(0),n.e(10),n.e(6)]).then(n.bind(null,297))})),E=a.a.lazy((function(){return n.e(5).then(n.bind(null,290))})),v=a.a.lazy((function(){return Promise.all([n.e(0),n.e(8)]).then(n.bind(null,291))})),g=a.a.lazy((function(){return Promise.all([n.e(0),n.e(7)]).then(n.bind(null,292))})),L=function(){var e=o.a.Content;return a.a.createElement(r.Suspense,{fallback:a.a.createElement("div",null,"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430...")},a.a.createElement(c.d,null,a.a.createElement(o.a,{style:{minHeight:"100vh"}},a.a.createElement(O,null),a.a.createElement(o.a,null,a.a.createElement(e,{style:{padding:20}},a.a.createElement(c.b,{exact:!0,path:"/",component:j}),a.a.createElement(c.b,{exact:!0,path:"/user_list",component:y}),a.a.createElement(c.b,{exact:!0,path:"/user/:userid",component:E}),a.a.createElement(c.b,{exact:!0,path:"/user/:userid/edit",component:v}),a.a.createElement(c.b,{exact:!0,path:"/add_user",component:g}))))))},S=n(95),x=function(e){var t=e.component,n=Object(S.a)(e,["component"]);return a.a.createElement(c.b,Object.assign({},n,{render:function(e){return Boolean(localStorage.getItem("auth"))?a.a.createElement(t,e):a.a.createElement(c.a,{to:"/login"})}}))},U=n(10),w=n(75),z=a.a.lazy((function(){return Promise.all([n.e(0),n.e(4),n.e(9)]).then(n.bind(null,295))})),k=function(){var e=Object(w.a)().usersStore;return Object(r.useEffect)((function(){Object(U.g)((function(){e.userState()}))})),a.a.createElement(l.a,null,a.a.createElement(c.d,null,a.a.createElement(x,{exact:!0,path:"/",component:L}),a.a.createElement(c.b,{exact:!0,path:"/login",component:z}),a.a.createElement(L,null)))};n(133);Object(U.h)({enforceActions:"always"}),u.a.render(a.a.createElement(l.a,null,a.a.createElement(k,null)),document.getElementById("root"))},65:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(44),a=function(e){return"undefined"===typeof localStorage?Object(r.a)({},e,{}):"undefined"!==typeof localStorage[e]?JSON.parse(localStorage[e]):Object(r.a)({},e,{})}},75:function(e,t,n){"use strict";n.d(t,"a",(function(){return x}));var r,a,i,u,c,s,l,o,f=n(0),b=n.n(f),p=n(45),m=n(72),h=n.n(m),d=n(92),O=n(34),j=n(93),y=n(94),E=n(28),v=(n(132),n(10)),g=n(65),L=(r=function(){function e(){Object(j.a)(this,e),this.fullUserList=[],Object(O.a)(this,"userList",a,this),this.filter="",this.inputName="",Object(O.a)(this,"userState",i,this),Object(O.a)(this,"addUserItem",u,this),Object(O.a)(this,"updateFilter",c,this),Object(O.a)(this,"sortUsers",s,this),Object(O.a)(this,"deleteUser",l,this),Object(O.a)(this,"editUser",o,this)}return Object(y.a)(e,[{key:"saveLocal",value:function(){("undefined"===typeof localStorage?{users:{}}:localStorage).users=JSON.stringify(this.userList)}},{key:"filteredUsers",value:function(){var e=this,t=new RegExp(this.filter,"i"),n=this.fullUserList.slice().filter((function(n){return!e.filter||t.test(n[e.inputName])}));return this.userList=n,this.userList}}]),e}(),a=Object(E.a)(r.prototype,"userList",[v.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.fullUserList}}),i=Object(E.a)(r.prototype,"userState",[v.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return Object(d.a)(h.a.mark((function t(){var n,r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("undefined"!==typeof localStorage.users){t.next=14;break}return t.next=3,fetch("https://my-json-server.typicode.com/KsuBurn/myJsonServer/users");case 3:return n=t.sent,t.next=6,n.json();case 6:return r=t.sent,e.fullUserList=r,t.next=10,Object(v.f)((function(){return e.userList=r}))();case 10:return e.saveLocal(),t.abrupt("return",e.userList);case 14:return e.fullUserList=Object(g.a)("users"),t.next=17,Object(v.f)((function(){return e.userList=Object(g.a)("users")}))();case 17:return t.abrupt("return",e.userList);case 18:case"end":return t.stop()}}),t)})))}}),u=Object(E.a)(r.prototype,"addUserItem",[v.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.userList.push(Object(p.a)({},t)),e.fullUserList.push(Object(p.a)({},t)),e.saveLocal()}}}),Object(E.a)(r.prototype,"filteredUsers",[v.f],Object.getOwnPropertyDescriptor(r.prototype,"filteredUsers"),r.prototype),c=Object(E.a)(r.prototype,"updateFilter",[v.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t,n){e.filter=t,e.inputName=n,e.filteredUsers()}}}),s=Object(E.a)(r.prototype,"sortUsers",[v.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.userList=t}}}),l=Object(E.a)(r.prototype,"deleteUser",[v.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var n=e.userList.filter((function(e){return e.id!==t}));Object(v.f)((function(){return e.userList=n}))(),e.saveLocal()}}}),o=Object(E.a)(r.prototype,"editUser",[v.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var n=e.userList.map((function(e){var n=Object(p.a)({},e);return t.id===e.id&&(n=Object(p.a)({},t)),n}));Object(v.f)((function(){return e.userList=n}))(),e.saveLocal()}}}),r),S=Object(f.createContext)({usersStore:new L}),x=function(){return b.a.useContext(S)}},84:function(e){e.exports=JSON.parse('[{"page":"\u0421\u043f\u0438\u0441\u043e\u043a \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439","icon":"hhh","path":"/user_list"}]')},99:function(e,t,n){e.exports=n(134)}},[[99,2,3]]]);
//# sourceMappingURL=main.0ce9d72f.chunk.js.map